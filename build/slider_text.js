define(["require","exports","./common"],function(e,t,i){var n=function(){function e(e,t,n,l,d,a,s){var r=this;if(n>l){var h=n;n=l,l=h}this._min=n,this._max=l,this.create_interface(e,t,n,l,d,a),this.event_interface=s?s:{},this.set_value(i.str_to_int(this.slider.value,this.min)),this.textfield.addEventListener("keyup",function(e){r.check_value(r.textfield.value)?(console.log("ok: "+r.textfield.value),i.remove_class(r.textfield,i.ERROR_CLASS),r.change(i.str_to_int(r.textfield.value))):i.add_class(r.textfield,i.ERROR_CLASS)}),this.textfield.addEventListener("blur",function(){r.check_value(r.textfield.value)||(r.set_value(r.val),i.remove_class(r.textfield,i.ERROR_CLASS))}),this.slider.addEventListener("change",function(){r.check_value(r.slider.value)&&r.change(i.str_to_int(r.slider.value))}),this.slider.addEventListener("input",function(){r.check_value(r.slider.value)&&r.change(i.str_to_int(r.slider.value))})}return e.prototype.create_interface=function(e,t,n,l,d,a){var s=document.createElement("label");s.htmlFor=d,s.innerHTML=a,e.appendChild(s);var r=document.createElement("span");i.add_class(r,"range"),this.slider=document.createElement("input"),this.slider.type="range",i.add_class(this.slider,"mdl-slider","mdl-js-slider"),this.slider.min=n,this.slider.max=l,this.slider.value=t,this.slider.tabIndex=0,r.appendChild(this.slider),e.appendChild(r),this.textfield_div=document.createElement("div"),i.add_class(this.textfield_div,"mdl-textfield","mdl-js-textfield"),this.textfield=document.createElement("input"),this.textfield.type="text",i.add_class(this.textfield,"mdl-textfield__input"),this.textfield.id=d;var h=document.createElement("label");h.htmlFor=d,h.innerHTML=a,i.add_class(h,"mdl-textfield__label"),this.textfield_div.appendChild(this.textfield),this.textfield_div.appendChild(h),e.appendChild(this.textfield_div),componentHandler.upgradeDom()},e.prototype.set_value=function(e){return!(e<this.min||e>this.max)&&(this.textfield_div.MaterialTextfield.change(e),this.slider.MaterialSlider.change(e),this.val=e,!0)},e.prototype.change=function(e){var t=this.val;this.val!=e&&this.set_value(e)&&this.event_interface.onchange&&this.event_interface.onchange(this,e,t)},e.prototype.check_value=function(e){if(!i.is_normal_integer(e))return!1;var t=i.str_to_int(e);return t>=this.min&&t<=this.max},Object.defineProperty(e.prototype,"min",{get:function(){return this._min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),e}();t.SliderTextComponent=n});